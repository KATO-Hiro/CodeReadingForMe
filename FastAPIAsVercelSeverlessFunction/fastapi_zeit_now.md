# FastAPI appをVercelにデプロイする

## 現状

+ バックエンド: FastAPIの初歩をオンライン勉強会で学んだ。事前に公開されていた資料を見ながら、動かした程度。

+ フロントエンド: 別プロジェクトで、Next.jsを利用し簡単なビューを作成した。

## 技術選定の理由

+ FastAPI
  + Pythonで記述できる
  + 既存のFWよりもかなり高速との触れ込み（Qiitaの記事で見た）
  + APIのドキュメントが自動生成される

+ Next.js
  + Reactをさらに便利にしたライブラリとの認識
  + プロジェクトのサンプルが豊富
  + レンダリングがVueよりも高速な傾向にある（とベンチマークをとった記事で見た）
  + Vercelを利用すると、デプロイが簡単かつ無料でサポートされている

## 目標

+ 大目標: バックエンドとフロントエンドを分離した簡単なアプリを作る。

+ 小目標: Fast APIのappをVercelにデプロイできるようにする。

## 項目

## 疑問点

+ レポジトリ作成者は、どこから情報を仕入れている?
  + FastAPI SQL Databases Tutorial

+ FastAPI
  + 標準的なディレクトリ構成は?
    + Vercelへのデプロイで指定はある?
  + モデル同士の関係を扱うことはできる?
  + 設定ファイルは、何が必要?
  + DBとの連携方法は?
  + 対応しているDBは?
    + RDB or RDB以外?
  + テストフレームワークは何を使っている?
    + Pytestが使えると嬉しい
  + APIのテストは、何を確認することが大事?
  + 著名なOSSプロジェクトはある?

+ そもそもServerless Functionとは?
  + 仕組みは?
  + これまでのものと何が違う?
  + どんなメリットがある?
  + どんなデメリットがある?

+ Cache-Controlとは?
  + no-cacheを設定するとどうなる?

+ Next.js
  + FastAPIで作成したAPIにアクセスするには?
  + CORS対策はどうなっている?
  + ユーザの状態を保存するには? できればReduxを使わずに済ませたい
  + ソーシャルログインを実装する方法は?
    + Firebaseを使った方法
  + グローバルな値をどのように保持・更新するか?
    + Hooksを使えばいい?
  + テストフレームワークは何がある?
  + どのような項目をテストすればいい?
  + APIが実装されるまで、どのように対処している?
    + Mockのようなものがある?

+ Vercel
  + 無料枠でできることに制約はないか?
  + 2020年4月時点からの変更点は?

+ Dockerコンテナ
  + 権限周りの設定方法は?
  + 設定ファイルの書き方で注意すべき点は?

+ レポジトリ構成は?
  + バックエンドとフロントエンドを分ける? or 同一?

+ セキュリティ対策はどうすればいい?

+ 今後に向けてテンプレート化できるところはないか?

## 感想

+ 。

+ 。

## 抽象化

+ 。

+ 。

## 応用

+ 。

+ 。

## See

[FastAPI Zeit Now](https://github.com/paul121/fastapi-zeit-now)
